!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CQueue=e():t.CQueue=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return t}(t)||u(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t,e,n){return(s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&l(i,n.prototype),i}).apply(null,arguments)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var y=n(1),p=y.resolve,d=y.join,g=n(2),v=g.readFileSync,b=g.writeFileSync,m=g.mkdirSync,z=g.existsSync,w=n(3),j=function(e){function n(){for(var t,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t=a(this,f(n).call(this)),0===r.length&&(r=[16]),t.length=0,t.start=0,r.length>1||"number"!=typeof r[0]?Array.isArray(r[0])?(t.data=s(Array,o(r)),t.end=(t.size=r[0].length)-1):(t.data=new Array(r.length),t.end=(t.size=r.length)-1,t.push.apply(c(c(t)),r)):(t.data=new Array(r[0]),t.end=(t.size=r[0])-1),t.cachePath=p(process.cwd(),".cache"),a(t,c(c(t)))}var r,u,y;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,w),r=n,y=[{key:"from",value:function(t,e){var r=s(n,o(i(t).slice(0)));return e&&"function"==typeof e&&r.map(e),r}}],(u=[{key:"pop",value:function(){var t;if(0!==this.length)return t=this.data[this.end],this.end=(this.end-1)%this.size,this.length--,t}},{key:"push",value:function(){var t=0;if(this.length+arguments.length>this.size)for(;t<this.length+arguments.length-this.size;t++)this.emit("overflow",this.data[(this.end+t+1)%this.size]);for(t=0;t<arguments.length;t++)this.data[(this.end+t+1)%this.size]=t<0||arguments.length<=t?void 0:arguments[t];return this._recalculateLength(t),this.end=(this.end+t)%this.size,this.start=(this.size+this.end-this.length+1)%this.size,this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.data[this.start];return this.start=(this.start+1)%this.size,this.length--,t}}},{key:"unshift",value:function(){var t=0;if(this.length+arguments.length>this.size)for(;t<this.length+arguments.length-this.size;t++)this.emit("overflow",this.data[this.end-t%this.size]);for(t=0;t<arguments.length;t++)this.data[(this.size+this.start-t%this.size-1)%this.size]=t<0||arguments.length<=t?void 0:arguments[t];return this.size-this.length-t<0&&(this.end+=this.size-this.length-t,this.end<0&&(this.end=this.size+this.end%this.size)),this._recalculateLength(t),this.start-=arguments.length,this.start<0&&(this.start=this.size+this.start%this.size),this.length}},{key:"_recalculateLength",value:function(t){this.length<this.size&&(this.length+t>this.size?this.length=this.size:this.length+=t)}},{key:"indexOf",value:function(t,e){for(e||(e=0);e<this.length;e++)if(this.data[(this.start+e)%this.size]===t)return e;return-1}},{key:"lastIndexOf",value:function(t,e){for(e||(e=this.length-1);e>=0;e--)if(this.data[(this.start+e)%this.size]===t)return e;return-1}},{key:"empty",value:function(){return this.length=this.start=0,this.end=this.size-1,this}},{key:"clear",value:function(){return this.fill(void 0).empty(),this}},{key:"first",value:function(){return this.data[this.start]}},{key:"last",value:function(){return this.data[this.end]}},{key:"get",value:function(t){return this.data[(this.start+t)%this.size]}},{key:"toArray",value:function(){return this.slice()}},{key:"slice",value:function(t,e){var n=this.length;if((t=+t||0)<0){if(t>=e)return[];t=-t>n?0:n+t}null==e||e>n?e=n:e<0?e+=n:e=+e||0,n=t<e?e-t:0;for(var r=Array(n),i=0;i<n;i++)r[i]=this.data[(this.start+t+i)%this.size];return r}},{key:"load",value:function(e){if(t.exports){if(!e)throw new Error("Missing filename");var n=d(this.cachePath,e+".json");if(!z(n))throw new Error("File does not exists");var r=v(n,{encoding:"utf8"});(r=JSON.parse(r)).length&&(this.data=new Array(this.size),this.start=0,this.length=0,this.end=this.size-1,this.push.apply(this,r))}}},{key:"save",value:function(e){if(t.exports){if(!e)throw new Error("Missing filename");var n=d(this.cachePath,e+".json");z(this.cachePath)||m(this.cachePath,{recursive:!0}),b(n,JSON.stringify(this.slice()))}}},{key:"array",get:function(){return this.slice()}}])&&h(r.prototype,u),y&&h(r,y),n}();t.exports=j},function(t,e){t.exports=require("path")},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("events")}])});