!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CBuffer=e():t.CBuffer=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){var n,r,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function h(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var u,a=[],l=!1,f=-1;function c(){l&&u&&(l=!1,u.length?a=u.concat(a):f=-1,a.length&&y())}function y(){if(!l){var t=h(c);l=!0;for(var e=a.length;e;){for(u=a,a=[];++f<e;)u&&u[f].run();f=-1,e=a.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new g(t,e)),1!==a.length||l||h(y)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t))return t}(t)||h(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t,e,n){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=n(2),c=f.resolve,y=f.join,g=n(3),v=g.readFileSync,d=g.writeFileSync,p=g.mkdirSync,m=g.existsSync,b=function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(0===r.length)throw new Error("Missing Argument: You must pass a valid buffer size");return this.length=0,this.start=0,this.overflow=null,r.length>1||"number"!=typeof r[0]?Array.isArray(r[0])?(this.data=u(Array,r),this.end=(this.size=r[0].length)-1):(this.data=new Array(r.length),this.end=(this.size=r.length)-1,this.push.apply(this,r)):(this.data=new Array(r[0]),this.end=(this.size=r[0])-1),this.cachePath=c(e.cwd(),".cache"),this}var h,a,f;return h=n,f=[{key:"from",value:function(t,e){var r=u(n,o(i(t).slice(0)));return e&&"function"==typeof e&&r.map(e),r}}],(a=[{key:"pop",value:function(){var t;if(0!==this.length)return t=this.data[this.end],this.end=(this.end-1)%this.size,this.length--,t}},{key:"push",value:function(){var t=0;if(this.overflow&&this.length+arguments.length>this.size)for(;t<this.length+arguments.length-this.size;t++)this.overflow(this.data[(this.end+t+1)%this.size],this);for(t=0;t<arguments.length;t++)this.data[(this.end+t+1)%this.size]=t<0||arguments.length<=t?void 0:arguments[t];return this.length<this.size&&(this.length+t>this.size?this.length=this.size:this.length+=t),this.end=(this.end+t)%this.size,this.start=(this.size+this.end-this.length+1)%this.size,this.length}},{key:"reverse",value:function(){if(0===this.length)return this;for(var t,e=0,n=this.length-1,r=this.length/2|0;e<r;e++){var i=(this.start+e)%this.size;t=this.data[i],this.data[i]=this.data[n-i],this.data[n-i]=t}return this}},{key:"rotateLeft",value:function(t){if(void 0===t&&(t=1),"number"!=typeof t)throw new Error("Argument must be a number");for(;--t>=0;)this.push(this.shift());return this}},{key:"rotateRight",value:function(t){if(void 0===t&&(t=1),"number"!=typeof t)throw new Error("Argument must be a number");for(;--t>=0;)this.unshift(this.pop());return this}},{key:"shift",value:function(){var t;if(0!==this.length)return t=this.data[this.start],this.start=(this.start+1)%this.size,this.length--,t}},{key:"sort",value:function(t){return this.data.sort(t||w),this.start=0,this.end=this.length-1,this}},{key:"unshift",value:function(){var t=0;if(this.overflow&&this.length+arguments.length>this.size)for(;t<this.length+arguments.length-this.size;t++)this.overflow(this.data[this.end-t%this.size],this);for(t=0;t<arguments.length;t++)this.data[(this.size+this.start-t%this.size-1)%this.size]=t<0||arguments.length<=t?void 0:arguments[t];return this.size-this.length-t<0&&(this.end+=this.size-this.length-t,this.end<0&&(this.end=this.size+this.end%this.size)),this.length<this.size&&(this.length+t>this.size?this.length=this.size:this.length+=t),this.start-=arguments.length,this.start<0&&(this.start=this.size+this.start%this.size),this.length}},{key:"indexOf",value:function(t,e){for(e||(e=0);e<this.length;e++)if(this.data[(this.start+e)%this.size]===t)return e;return-1}},{key:"lastIndexOf",value:function(t,e){for(e||(e=this.length-1);e>=0;e--)if(this.data[(this.start+e)%this.size]===t)return e;return-1}},{key:"sortedIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=arguments.length>2?arguments[2]:void 0,r=this.length===this.size,i=this.start,s=r?this.length-1:this.length;for(i&&e.call(n,t,this.data[s])>0&&(i=0,s=this.end);i<s;){var o=i+s>>>1;e.call(n,t,this.data[o])>0?i=o+1:s=o}return r?((i-this.start)%this.length+this.length)%this.length:i}},{key:"every",value:function(t,e){for(var n=0;n<this.length;n++)if(!t.call(e,this.data[(this.start+n)%this.size],n,this))return!1;return!0}},{key:"forEach",value:function(t,e){for(var n=0;n<this.length;n++)t.call(e,this.data[(this.start+n)%this.size],n,this)}},{key:"filter",value:function(t,e){for(var n=[],r=0;r<this.length;r++){var i=(this.start+r)%this.size;t.call(e,this.data[i],this)&&n.push(this.data[i])}return this.length=n.length,this.end=this.length-1,this.data=n,this}},{key:"map",value:function(t,e){for(var n=0;n<this.length;n++){var r=(this.start+n)%this.size;this.data[r]=t.call(e,this.data[r],this)}return this}},{key:"some",value:function(t,e){for(var n=0;n<this.length;n++)if(t.call(e,this.data[(this.start+n)%this.size],n,this))return!0;return!1}},{key:"avg",value:function(){return 0==this.length?0:this.sum()/this.length}},{key:"sum",value:function(){for(var t=this.length,e=0;t--;)e+=this.data[t];return e}},{key:"median",value:function(){if(0===this.length)return 0;var t=this.slice().sort(w),e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2}},{key:"empty",value:function(){return this.length=this.start=0,this.end=this.size-1,this}},{key:"clear",value:function(){return this.fill(void 0).empty(),this}},{key:"fill",value:function(t){var e=0;if("function"==typeof t)for(;this.data[e]=t(),++e<this.size;);else for(;this.data[e]=t,++e<this.size;);return this.start=0,this.end=this.size-1,this.length=this.size,this}},{key:"first",value:function(){return this.data[this.start]}},{key:"last",value:function(){return this.data[this.end]}},{key:"get",value:function(t){return this.data[(this.start+t)%this.size]}},{key:"isFull",value:function(t){return this.size===this.length}},{key:"set",value:function(t,e){return this.data[(this.start+t)%this.size]=e}},{key:"toArray",value:function(){return this.slice()}},{key:"slice",value:function(t,e){var n=this.length;if((t=+t||0)<0){if(t>=e)return[];t=-t>n?0:n+t}null==e||e>n?e=n:e<0?e+=n:e=+e||0,n=t<e?e-t:0;for(var r=Array(n),i=0;i<n;i++)r[i]=this.data[(this.start+t+i)%this.size];return r}},{key:"load",value:function(e){if(t.exports){if(!e)throw new Error("Missing filename");var n=y(this.cachePath,e+".json");if(!m(n))throw new Error("File does not exists");var r=v(n,{encoding:"utf8"});(r=JSON.parse(r)).length&&(this.data=new Array(r.length),this.end=(this.size=r.length)-1,this.push.apply(this,r))}}},{key:"save",value:function(e){if(t.exports){if(!e)throw new Error("Missing filename");var n=y(this.cachePath,e+".json");m(this.cachePath)||p(this.cachePath,{recursive:!0}),d(n,JSON.stringify(this.slice()))}}},{key:"toArrayClone",get:function(){return Array.from(this.slice(),function(t){return function(t){return null!=t&&"string"==typeof t}(t)?t:Array.isArray(t)?o(t):function(t){return null!=t&&"object"===r(t)&&!1===Array.isArray(t)}(t)?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}({},t):t})}},{key:"array",get:function(){return this.slice()}}])&&l(h.prototype,a),f&&l(h,f),n}();function w(t,e){return t==e?0:t>e?1:-1}t.exports=b}).call(this,n(0))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return r.exec(t).slice(1)};function s(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var o=i>=0?arguments[i]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,r="/"===o.charAt(0))}return(r?"/":"")+(e=n(s(e.split("/"),function(t){return!!t}),!r).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),i="/"===o(t,-1);return(t=n(s(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&i&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),s=r(n.split("/")),o=Math.min(i.length,s.length),h=o,u=0;u<o;u++)if(i[u]!==s[u]){h=u;break}var a=[];for(u=h;u<i.length;u++)a.push("..");return(a=a.concat(s.slice(h))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(0))},function(t,e){}])});